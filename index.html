<!DOCTYPE html>

<html>
    
    <head>
        
        <link rel="stylesheet" href="main.css">

        
    </head>
    
    <body>
        <div class="scroll-snap-box">
            <header>
                <div class="scroll-snap">
                    <p style="position: fixed" id="demo"></p>

                    <div class="tribar">
                        <img class="tribar-items z-0" id="left" src="img/tribar_left.png">
                        <img class="tribar-items z-1" id="right" src="img/tribar_right.png">
                        <img class="tribar-items z-2" id="bottom" src="img/tribar_bottom.png">
                    </div>
                </div>
            </header>
            <section>
                <div class="scroll-snap">
                    <br>
                    scroll
                </div>
            </section>
        </div>
        
        


        
    </body>
    
    
	<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <script>
        $(window).scroll(function() {
        var phase = 0.16;
        var theta = ($(window).scrollTop() / window.innerHeight);
        var theta2 = theta - phase;
        var height_fix = 821 / window.innerHeight
            
        
        if (theta < phase) {
            $('#left').css({ 
                marginLeft: - theta * 173 * 3 , 
                marginTop: - theta * 100 * 4, 
                transform: 'rotate(-' + Math.min(theta * 120 , 120) + 'deg)' 
            });
            $('#right').css({ 
                marginLeft: theta * 100 * 4, 
                marginTop: - theta * 173 * 4,
                transform: 'rotate(' + Math.min(theta * 120, 120) + 'deg)' 
            });
            $('#bottom').css({ 
                marginLeft: theta * 100 * 2, 
                marginTop: theta * 173 * 2,
                transform: 'rotate(' + Math.min(theta * 0, 120) + 'deg)' 
            });
        }
        else {
            $('#left').css({ 
                marginLeft: - Math.min(theta * 173 * 3, 400 / height_fix),
                marginTop: - Math.min(theta * 100 * 5, 470 / height_fix),
                transform: 'rotate(-' + Math.min(theta * 120 * 1.1 * height_fix, 120) + 'deg)' 
            });
            $('#right').css({ 
                marginLeft: Math.min(theta * 100 * 4, 400 / height_fix), 
                marginTop: - Math.min(theta * 173 * 4, 465 / height_fix),
                transform: 'rotate(' + Math.min(theta * 120 * height_fix, 120) + 'deg)' 
            });
            $('#bottom').css({ 
                marginLeft: - Math.min(theta2 * 40  - phase * 100 * 2, 0),
                marginTop: - Math.min(theta2 * 173 * 4 - phase * 173 * 2, 515 / height_fix),
                transform: 'rotate(' + Math.min(theta * 0, 120) + 'deg)' 
            });
        }
        document.getElementById("demo").innerHTML = $(window).scrollTop() + "   ;   " + window.innerHeight + "   ;   " + theta/2.0944*Math.PI + "   ;   " + Math.sin(theta/2.0944*Math.PI) + "   ;   " + height_fix  ;
        });
    </script>
     
</html>
